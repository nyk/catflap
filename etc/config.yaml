# This is an example of the main configuration file for catflap.
# By default catflap looks for this file in /usr/local/etc/catflap/config.yaml
# but you can change the location by using the --config-file <filepath> option
# of the bin/catflap command line interface.

server:
  listen_addr: '0.0.0.0' # what ip address the catflap server should listen on.
  port: 4777 # the TCP port that the catflap server listens on.
  docroot: './ui' # you can override the ui location.
  endpoint: '/catflap' # the endpoint for the REST API.
  passfile: '/usr/local/etc/catflap/passfile.yaml' # pass phrases are stored here.
  redirect: # specify where the visitor should be redirected after authentication.
    www.corbis.com: # you can configure the redirect for each access hostname.
      protocol: 'https'
      hostname: 'www.corbisimages.com'
      port: 8081
    default: # if there is no matching hostname then use the default redirect.
      protocol: '' # the default is http.
      hostname: '' # the default is the hostname of the authentication page.
      port: 80 # the default is port 80.

firewall:
  plugin: 'iptables' # this is the only plugin driver available currently.
  dports: '80,8080,443' # lock multiple ports separating them by commas.
  options: # options are specific to each firewall plugin driver.
    chain: 'catflap-accept'
    reject_policy: 'reject'
    rejectWith: 'icmp-net-prohibited'
    log_rejected: true
    accept_local: false
